(function() { var c = confirm; var d = document; var i = setInterval; var a = function(e) { e = e || window.event; var t = e.target || e.srcElement; if (t.type == 'password') { if (c('警告：请不要在 http://www.diandian.com 以外的地方输入你的点点密码！\x0a\x0a点点是不会要求你从用户博客登录的，这很可能是一个窃取密码的钓鱼表单。\x0a\x0a你确定要继续下去么？')) { a = function() {}; } else { t.value = ""; return false; } } }; i(function() { if (d.addEventListener) { d.addEventListener('keypress', a, false) } else if (d.attachEvent) { d.attachEvent('onkeypress', a) } }, 0); }());

var config = {};
config.isLoading = !('关闭' == '关闭');
config.isSpell = !('拼写一次' == '关闭');
config.isRepeatSpell = ('拼写一次' == '重复拼写');
config.color = '#00ff99';

var tickerIterations=0;var currentTickerIteration=0;$(document).ready(function(){});function createTicker(){var a=$("h1 strong");tickerItems=new Array();a.each(function(b){tickerItems.push(jQuery(this).html())});i=0;rotateTicker()}function rotateTicker(){if(i==tickerItems.length){i=0;if(tickerIterations>0){console.log("tickerIterations: "+tickerIterations);currentTickerIteration++;console.log("currentTickerIteration: "+currentTickerIteration);if(currentTickerIteration>=tickerIterations){console.log("Done iterating");return false}}}tickerText=tickerItems[i];c=0;typetext();if(config.isRepeatSpell){setTimeout("rotateTicker()",10000)}i++}var isInTag=false;function typetext(){var a=tickerText.substr(c,1);if(a=="<"){isInTag=true}if(a==">"){isInTag=false}if(c==tickerText.length){$("h1 strong:first").html(tickerText.substr(0,c++))}else{$("h1 strong:first").html(tickerText.substr(0,c++)+"_")}if(c<tickerText.length+1){if(isInTag){typetext()}else{setTimeout("typetext()",120)}}else{c=1;tickerText=""}}function cursorAnimation(){$("h1 span").animate({opacity:0},"fast","swing").animate({opacity:1},"fast","swing")}$(document).ready(function(){if(!config.isSpell){return}createTicker();setInterval("cursorAnimation()",600)});(function(h){var t=new Array;var j=0;var f=false;var s="";var d="";var q="";var m="";var o=0;var e=0;window.imgs=[];var a={onComplete:function(){h(".lazyload").attr("src",function(){return h(this).attr("_src")})},backgroundColor:config.color,barColor:"#2a2f31",barHeight:1,percentage:false,deepSearch:true,completeAnimation:"grow",minimumTime:500,onLoadComplete:function(){if(a.completeAnimation=="grow"){var v=500;var u=new Date();if((u.getTime()-e)<a.minimumTime){v=(a.minimumTime-(u.getTime()-e))}h(q).stop().animate({width:"100%"},v,function(){h(this).animate({top:"0%",width:"100%",height:"100%"},500,function(){h(d).fadeOut(500,function(){h(this).remove();a.onComplete()})})})}else{h(d).fadeOut(500,function(){h(d).remove();a.onComplete()})}}};var g=function(){var u=new Date();e=u.getTime();k();l()};var k=function(){s=h("<div></div>").appendTo("body").css({display:"none",width:0,height:0,overflow:"hidden"});for(var u=0;t.length>u;u++){if(!f){o++;b(t[u])}}};var b=function(u){var v=h("<img />").attr("src",u).bind("load",function(){n()}).appendTo(s)};var n=function(){j++;var u=(j/o)*100;h(q).stop().animate({width:u+"%",minWidth:u+"%"},200);if(a.percentage==true){h(m).text(Math.ceil(u)+"%")}if(j==o){r()}};var r=function(){h(s).remove();a.onLoadComplete();f=true};var l=function(){d=h("<div id='qLoverlay'></div>").css({width:"100%",height:"100%",backgroundColor:a.backgroundColor,backgroundPosition:"fixed",position:"fixed",zIndex:666999,top:0,left:0,display:config.isLoading?"block":"none"}).appendTo("body");q=h("<div id='qLbar'></div>").css({height:a.barHeight+"px",marginTop:"-"+(a.barHeight/2)+"px",backgroundColor:a.barColor,width:"0%",position:"absolute",top:"50%"}).appendTo(d);if(a.percentage==true){m=h("<div id='qLpercentage'></div>").text("0%").css({height:"40px",width:"100px",position:"absolute",fontSize:"30px",top:"50%",left:"50%",marginTop:"-"+(59+a.barHeight)+"px",textAlign:"center",marginLeft:"-50px",color:a.barColor}).appendTo(d)}};var p=function(v){var u="";if(h(v).hasClass("lazyload")){u=h(v).attr("_src");t.push(u)}};h.fn.queryLoader2=function(u){if(h.browser.msie){h(".lazyload").attr("src",function(){return h(this).attr("_src")});return}if(u){h.extend(a,u)}this.each(function(){p(this);if(a.deepSearch==true){h(this).find("*:not(script)").each(function(){p(this)})}});g();return this}})(jQuery);$(document).ready(function(){if($(".lazyload").length>0){$("body").queryLoader2({percentage:true})}var d=$("#header").offset().top-parseFloat($("#header").css("marginTop").replace(/auto/,0));$(window).scroll(function(f){var g=$(this).scrollTop();if(g>=d){$("#header").addClass("headerFixed")}else{$("#header").removeClass("headerFixed")}});$(window).scroll(function(){if($(this).scrollTop()!=0){$("#goTop").fadeIn("slow")}else{$("#goTop").fadeOut("slow")}});$(".spotlight").slides({effect:"slide",slideSpeed:350,preload:true,preloadImage:"../../img/loading.gif",play:6000,pause:3000,hoverPause:true,generatePagination:true,generateNextPrev:false});$("#goTop").click(function(){$("body,html").animate({scrollTop:0},800)});function a(f){var h=f.attr("href");var g=1;return $(h).offset().top-g}$(function(){$('#header a[href^="#"], a[rel="nav"]').click(function(){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var f=$(this.hash);f=f.length&&f||$("[name="+this.hash.slice(1)+"]");if(f.length){var g=f.offset().top;$("html,body").animate({scrollTop:g-78},1000);return false}}})});var e=$('#header a[href^="#"]');function b(h){var f=100;var g;for(g=0;g<e.length;g++){var k=$(e[g]);var j=a(k);if(h>j-f&&h<j+f){e.removeClass("active");k.addClass("active")}}}b($(window).scrollTop());$(window).scroll(function(f){b($(window).scrollTop())});$("#imprintBtn").click(function(){$(this).toggleClass("open");if($(this).hasClass("open")){$(this).text("Impressum schliessen");$("#imprint").slideDown("slow")}else{$(this).text("Impressum");$("#imprint").slideUp("slow")}})});

/*
* Slides, A Slideshow Plugin for jQuery
* Intructions: http://slidesjs.com
* By: Nathan Searles, http://nathansearles.com
* Version: 1.1.8
* Updated: June 1st, 2011
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
* http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
(function(A){A.fn.slides=function(B){B=A.extend({},A.fn.slides.option,B);return this.each(function(){A("."+B.container,A(this)).children().wrapAll('<div class="slides_control"/>');var V=A(this),J=A(".slides_control",V),Z=J.children().size(),Q=J.children().outerWidth(),M=J.children().outerHeight(),D=B.start-1,L=B.effect.indexOf(",")<0?B.effect:B.effect.replace(" ","").split(",")[0],S=B.effect.indexOf(",")<0?L:B.effect.replace(" ","").split(",")[1],O=0,N=0,C=0,P=0,U,H,I,X,W,T,K,F;function E(c,b,a){if(!H&&U){H=true;B.animationStart(P+1);switch(c){case"next":N=P;O=P+1;O=Z===O?0:O;X=Q*2;c=-Q*2;P=O;break;case"prev":N=P;O=P-1;O=O===-1?Z-1:O;X=0;c=0;P=O;break;case"pagination":O=parseInt(a,10);N=A("."+B.paginationClass+" li."+B.currentClass+" a",V).attr("href").match("[^#/]+$");if(O>N){X=Q*2;c=-Q*2;}else{X=0;c=0;}P=O;break;}if(b==="fade"){if(B.crossfade){J.children(":eq("+O+")",V).css({zIndex:10}).fadeIn(B.fadeSpeed,B.fadeEasing,function(){if(B.autoHeight){J.animate({height:J.children(":eq("+O+")",V).outerHeight()},B.autoHeightSpeed,function(){J.children(":eq("+N+")",V).css({display:"none",zIndex:0});J.children(":eq("+O+")",V).css({zIndex:0});B.animationComplete(O+1);H=false;});}else{J.children(":eq("+N+")",V).css({display:"none",zIndex:0});J.children(":eq("+O+")",V).css({zIndex:0});B.animationComplete(O+1);H=false;}});}else{J.children(":eq("+N+")",V).fadeOut(B.fadeSpeed,B.fadeEasing,function(){if(B.autoHeight){J.animate({height:J.children(":eq("+O+")",V).outerHeight()},B.autoHeightSpeed,function(){J.children(":eq("+O+")",V).fadeIn(B.fadeSpeed,B.fadeEasing);});}else{J.children(":eq("+O+")",V).fadeIn(B.fadeSpeed,B.fadeEasing,function(){if(A.browser.msie){A(this).get(0).style.removeAttribute("filter");}});}B.animationComplete(O+1);H=false;});}}else{J.children(":eq("+O+")").css({left:X,display:"block"});if(B.autoHeight){J.animate({left:c,height:J.children(":eq("+O+")").outerHeight()},B.slideSpeed,B.slideEasing,function(){J.css({left:-Q});J.children(":eq("+O+")").css({left:Q,zIndex:5});J.children(":eq("+N+")").css({left:Q,display:"none",zIndex:0});B.animationComplete(O+1);H=false;});}else{J.animate({left:c},B.slideSpeed,B.slideEasing,function(){J.css({left:-Q});J.children(":eq("+O+")").css({left:Q,zIndex:5});J.children(":eq("+N+")").css({left:Q,display:"none",zIndex:0});B.animationComplete(O+1);H=false;});}}if(B.pagination){A("."+B.paginationClass+" li."+B.currentClass,V).removeClass(B.currentClass);A("."+B.paginationClass+" li:eq("+O+")",V).addClass(B.currentClass);}}}function R(){clearInterval(V.data("interval"));}function G(){if(B.pause){clearTimeout(V.data("pause"));clearInterval(V.data("interval"));K=setTimeout(function(){clearTimeout(V.data("pause"));F=setInterval(function(){E("next",L);},B.play);V.data("interval",F);},B.pause);V.data("pause",K);}else{R();}}if(Z<2){return ;}if(D<0){D=0;}if(D>Z){D=Z-1;}if(B.start){P=D;}if(B.randomize){J.randomize();}A("."+B.container,V).css({overflow:"hidden",position:"relative"});J.children().css({position:"absolute",top:0,left:J.children().outerWidth(),zIndex:0,display:"none"});J.css({position:"relative",width:(Q*3),height:M,left:-Q});A("."+B.container,V).css({display:"block"});if(B.autoHeight){J.children().css({height:"auto"});J.animate({height:J.children(":eq("+D+")").outerHeight()},B.autoHeightSpeed);}if(B.preload&&J.find("img:eq("+D+")").length){A("."+B.container,V).css({background:"url("+B.preloadImage+") no-repeat 50% 50%"});var Y=J.find("img:eq("+D+")").attr("src")+"?"+(new Date()).getTime();if(A("img",V).parent().attr("class")!="slides_control"){T=J.children(":eq(0)")[0].tagName.toLowerCase();}else{T=J.find("img:eq("+D+")");}J.find("img:eq("+D+")").attr("src",Y).load(function(){J.find(T+":eq("+D+")").fadeIn(B.fadeSpeed,B.fadeEasing,function(){A(this).css({zIndex:5});A("."+B.container,V).css({background:""});U=true;B.slidesLoaded();});});}else{J.children(":eq("+D+")").fadeIn(B.fadeSpeed,B.fadeEasing,function(){U=true;B.slidesLoaded();});}if(B.bigTarget){J.children().css({cursor:"pointer"});J.children().click(function(){E("next",L);return false;});}if(B.hoverPause&&B.play){J.bind("mouseover",function(){R();});J.bind("mouseleave",function(){G();});}if(B.generateNextPrev){A("."+B.container,V).after('<a href="#" class="'+B.prev+'">Prev</a>');A("."+B.prev,V).after('<a href="#" class="'+B.next+'">Next</a>');}A("."+B.next,V).click(function(a){a.preventDefault();if(B.play){G();}E("next",L);});A("."+B.prev,V).click(function(a){a.preventDefault();if(B.play){G();}E("prev",L);});if(B.generatePagination){if(B.prependPagination){V.prepend("<ul class="+B.paginationClass+"></ul>");}else{V.append("<ul class="+B.paginationClass+"></ul>");}J.children().each(function(){A("."+B.paginationClass,V).append('<li><a href="#'+C+'">'+(C+1)+"</a></li>");C++;});}else{A("."+B.paginationClass+" li a",V).each(function(){A(this).attr("href","#"+C);C++;});}A("."+B.paginationClass+" li:eq("+D+")",V).addClass(B.currentClass);A("."+B.paginationClass+" li a",V).click(function(){if(B.play){G();}I=A(this).attr("href").match("[^#/]+$");if(P!=I){E("pagination",S,I);}return false;});A("a.link",V).click(function(){if(B.play){G();}I=A(this).attr("href").match("[^#/]+$")-1;if(P!=I){E("pagination",S,I);}return false;});if(B.play){F=setInterval(function(){E("next",L);},B.play);V.data("interval",F);}});};A.fn.slides.option={preload:false,preloadImage:"/img/loading.gif",container:"slides_container",generateNextPrev:false,next:"next",prev:"prev",pagination:true,generatePagination:true,prependPagination:false,paginationClass:"pagination",currentClass:"current",fadeSpeed:350,fadeEasing:"",slideSpeed:350,slideEasing:"",start:1,effect:"slide",crossfade:false,randomize:false,play:0,pause:0,hoverPause:false,autoHeight:false,autoHeightSpeed:350,bigTarget:false,animationStart:function(){},animationComplete:function(){},slidesLoaded:function(){}};A.fn.randomize=function(C){function B(){return(Math.round(Math.random())-0.5);}return(A(this).each(function(){var F=A(this);var E=F.children();var D=E.length;if(D>1){E.hide();var G=[];for(i=0;i<D;i++){G[G.length]=i;}G=G.sort(B);A.each(G,function(I,H){var K=E.eq(H);var J=K.clone(true);J.show().appendTo(F);if(C!==undefined){C(K,J);}K.remove();});}}));};})(jQuery);